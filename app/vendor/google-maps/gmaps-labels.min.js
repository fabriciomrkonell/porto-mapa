function LabelOverlay(a){this._args=a,this._div=null,a.minBoxH&&a.minBoxW&&!a.minBox&&(a.minBox=this._buildBox(a.ll,a.minBoxW,a.minBoxH)),a.maxBoxH&&a.maxBoxW&&!a.maxBox&&(a.maxBox=this._buildBox(a.ll,a.maxBoxW,a.maxBoxH)),this.setMap(a.map)}LabelOverlay.prototype=new google.maps.OverlayView,LabelOverlay.prototype._buildBox=function(a,t,i){var s=new google.maps.LatLng(a.lat()-i/2,a.lng()-t/2),e=new google.maps.LatLng(a.lat()+i/2,a.lng()+t/2);return new google.maps.LatLngBounds(s,e)},LabelOverlay.prototype.onAdd=function(){var a="gmaps-label";this._args.className&&(a+=" "+this._args.className);var t=document.createElement("div");t.className=a,this._args.labelElement?t.appendChild(this._args.labelElement):t.innerHTML=this._args.label,this._div=t;var i=this.getPanes();i.overlayImage.appendChild(t),this._args.minBox&&this._args.debugBoxes&&(this._minBox=new google.maps.Rectangle({strokeWeight:0,fillColor:"#0000FF",fillOpacity:.35,map:this._args.map,bounds:this._args.minBox})),this._args.maxBox&&this._args.debugBoxes&&(this._maxBox=new google.maps.Rectangle({strokeWeight:0,fillColor:"#FF0000",fillOpacity:.35,map:this._args.map,bounds:this._args.maxBox}))},LabelOverlay.prototype.setLabel=function(a){var t=this._div;t&&(t.innerHTML=a,this.draw())},LabelOverlay.prototype.draw=function(){var a=this.getProjection(),t=this._args.map.getZoom(),i=a.fromLatLngToDivPixel(this._args.ll),s=this._div,e=s.clientWidth,o=s.clientHeight,l=!0;if(this._args.maxZoom&&t>this._args.maxZoom&&(l=!1),this._args.minZoom&&t<this._args.minZoom&&(l=!1),this._args.minBox){var r=a.fromLatLngToDivPixel(this._args.minBox.getNorthEast()),n=a.fromLatLngToDivPixel(this._args.minBox.getSouthWest()),g=Math.abs(i.x-r.x),h=Math.abs(i.x-n.x),m=Math.abs(i.y-r.y),x=Math.abs(i.y-n.y);e/2>g&&(l=!1),e/2>h&&(l=!1),o/2>m&&(l=!1),o/2>x&&(l=!1)}if(this._args.maxBox){var r=a.fromLatLngToDivPixel(this._args.maxBox.getNorthEast()),n=a.fromLatLngToDivPixel(this._args.maxBox.getSouthWest()),g=Math.abs(i.x-r.x),h=Math.abs(i.x-n.x),m=Math.abs(i.y-r.y),x=Math.abs(i.y-n.y);g>e/2&&(l=!1),h>e/2&&(l=!1),m>o/2&&(l=!1),x>o/2&&(l=!1)}if(this._args.debugVisibility)s.style.visibility="visible",s.style.color=l?"white":"red";else if(s.style.visibility=l?"visible":"hidden",!l)return;s.style.left=i.x-e/2+"px",s.style.top=i.y-o/2+"px"},LabelOverlay.prototype.onRemove=function(){this._div.parentNode.removeChild(this._div),this._div=null,this._minBox,this._maxBox};